{% trans_default_domain('user.user.profile') %}


<main class="main d-print-none ">

    <section class="container px-4 mb-5">

        <div class="mt-3 d-flex justify-content-between">
            {{ include(_self|replace({ "content.html.twig": "_breadcrumb.html.twig" })) }}
        </div>

        <div class="d-flex justify-content-between align-items-center mb-3">

            <div class="w-100">
                <h1 class="h4 text-uppercase fw-bolder mb-0">
                    {{ 'user.page.index'|trans }}
                </h1>
            </div>


            <div class="w-100 d-flex align-items-center gap-3 justify-content-end">

                {% if profiles %}

                    {% if profiles|length == 1 %}

                            {% for profile in profiles %}
                                <a href="{{ path('UserProfile:user.newedit.new', { id : profile.id }) }}"
                                   class="btn btn-danger"
                                >
                                    Добавить профиль
                                </a>
                            {% endfor %}

                    {% else %}

                        <span class="h5 mb-0">Добавить профиль: </span>

                        {# Добавить профиль #}
                        <div class="btn-group ms-10">
                            {% for profile in profiles %}
                                <a href="{{ path('UserProfile:user.newedit.new', { id : profile.id }) }}"
                                   class="btn btn-danger"
                                   data-bs-toggle="tooltip"
                                   data-bs-placement="bottom"
                                   title="{{ profile.description }}"
                                >
                                    {{ profile.name }}
                                </a>
                            {% endfor %}
                        </div>

                    {% endif %}

                {% endif %}

            </div>

        </div>

        <div class="border  border-light  rounded-4 p-3 p-3">

            {# Форма поиска по разделу #}
            {% include Template('/_includes/'~baks_settings.device~'/search.html.twig') %}

            <table class="table table-striped table-borderless mt-3"
                   style='--bs-table-striped-bg: rgba(249,249,249,0.7);'>
                <thead>
                <tr>
                    <th>#</th>
                    <th class="text-center">Сортировка</th>
                    <th>Профиль</th>
                    <th class="text-center">Тип профиля</th>
                    <th class="text-center">По умолчанию</th>
                    <th class="text-center">Статус</th>
                </tr>
                </thead>
                <tbody>

                {% for item in query.data %}
                    {{ include(_self|replace({ "content.html.twig": "card.html.twig" })) }}
                {% endfor %}

                </tbody>
            </table>

            {% include Template('_includes/'~baks_settings.device~'/pagination.html.twig') with { 'pagination' : query } %}

        </div>

    </section>

</main>


{# Тюлбар #}
{#
{{ include(_self|replace({ "content.html.twig": "_breadcrumb.html.twig" })) }}

<div class="d-flex flex-column-fluid align-items-start container mt-3">

	<div class="clearfix position-absolute w-100 start-0 separator mt-3"></div>

	<div class="content flex-row-fluid mt-10">
		<div class="card card-flush">
#}
{# Форма поиска #}{#
{{ include(_self|replace({ "content.html.twig": "_search.html.twig" })) }}

<div class="card-body pt-0">
	<div class="table-responsive">
#}
{# Список #}{#
<table class="align-middle table-row-dashed fs-6 gy-5 dataTable no-footer mb-5">

	{{ include(_self|replace({ "content.html.twig": "_table.thead.html.twig" })) }}

	<tbody class="fw-bold text-gray-600">
	{% for item in query.data %}
		{{ include(_self|replace({ "content.html.twig": "_table.tbody.html.twig" })) }}
	{% endfor %}
	</tbody>

</table>

<div class="card-footer position-sticky bg-body pb-3" style="bottom: 0rem;">
	<div class="d-flex d-none pb-5" id="all_usecase">
		<a href="#" class="modal-link btn btn-danger btn-sm fw-bolder"
		   data-bs-toggle="modal" data-bs-target="#modal">
#}
{# Удалить #}{#
{{ 'btn.delete'|trans({}, 'core.btn') }}
</a>

<a href="#" class="modal-link btn btn btn-sm fw-bolder"
data-bs-toggle="modal" data-bs-target="#modal">
#}
{# Удалить #}{#
{{ 'btn.delete'|trans({}, 'core.btn') }}
</a>

</div>
<div class="d-flex justify-content-between">
#}
{# Пагинация #}{#
{{ include('@Template/_includes/pagination.html.twig') }}
</div>
</div>

</div>

</div>
</div>
</div>
</div> #}
